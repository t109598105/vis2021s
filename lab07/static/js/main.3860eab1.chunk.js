(this.webpackJsonplab07=this.webpackJsonplab07||[]).push([[0],{12:function(t,e,n){t.exports={Button:"Button_Button__1mBSO"}},17:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(11),c=n.n(a),u=(n(17),n(4)),i=n.n(u),o=n(8),l=n(2),f=n(9),s=n(5),d=n.n(s),h=n(3),j=n(10),b=n(0),v=function(t){var e=t.parsedPath,n=t.size,a=t.duration,c=t.delay,u=t.textLength,i=Object(r.useRef)(null),o=Object(r.useState)(1),f=Object(l.a)(o,2),s=f[0],d=f[1],v=function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t};return Object(r.useEffect)((function(){var t=!0;h.c(i.current).selectAll("svg").remove();var r=h.c(i.current).append("svg").attr("height",n).attr("width",n),o=new Array(40).fill(n/2).map((function(t,e){return[t+t*Math.cos(9*e*2*Math.PI/360),t-t*Math.sin(9*e*2*Math.PI/360)]})),l=h.b();return r.append("path").attr("d",l(o)).attr("stroke","#000").attr("fill","#ffffff").transition().duration(a).delay(1===s?c:(u-1)*a).attrTween("d",(function(t,n,r){return Object(j.interpolatePath)(l(o),e.toPathData())})).attrTween("fill",(function(t,e,n){return h.a("#ffffff",v())})).transition().duration(a).delay((u-1)*a).attrTween("d",(function(t,n,r){return Object(j.interpolatePath)(e.toPathData(),l(o))})).attrTween("fill",(function(t,e,n){return h.a(v(),"#ffffff")})).on("end",(function(){t&&d((function(t){return t+1}))})),function(){t&&(t=!1)}}),[s]),Object(b.jsx)("div",{style:{height:n+"px",width:n+"px"},ref:i})},p=n(12),O=n.n(p),x=function(t){var e=t.children,n=t.color,r=t.handler;return Object(b.jsx)("a",{id:O.a.Button,onClick:r,style:{backgroundColor:n},children:e})},g=function(t){var e=Object(r.useState)(null),n=Object(l.a)(e,2),a=n[0],c=n[1],u=Object(r.useState)("fzsjs"),s=Object(l.a)(u,2),h=s[0],j=s[1],p=Object(r.useState)([]),O=Object(l.a)(p,2),g=O[0],y=O[1],m=Object(r.useState)(null),w=Object(l.a)(m,2),_=w[0],M=w[1],B=Object(r.useRef)(null),D=Object(r.useRef)(null),L=function(t){for(var e=[],n=B.current.clientHeight<B.current.clientWidth/D.current.value.length?B.current.clientHeight:B.current.clientWidth/D.current.value.length,r=0;r<D.current.value.length;r++){var a=t.getPath(D.current.value[r],0,0,n).getBoundingBox(),c=t.getPath(D.current.value[r],0,a.y2-a.y1,n);e.push(Object(b.jsx)(v,{parsedPath:c,size:n,duration:1e3,delay:1e3*r,textLength:D.current.value.length},D.current.value[r]))}M(e)};return Object(r.useEffect)((function(){(function(){var t=Object(o.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.load("fonts/".concat(h,".ttf"));case 2:e=t.sent,c(e),(n=[]).push({name:h,font:e}),D.current.value="\u4ef2\u7693\u744b",L(e),y(n);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(b.jsxs)("div",{id:d.a.Layout,onDragEnter:function(t){t.preventDefault()},onDragOver:function(t){t.preventDefault()},onDrop:function(t){t.preventDefault();var e=t.dataTransfer.files;if(/\.ttf/.test(e[0].name)){var n=e[0].name.replace(".ttf","");if("undefined"===typeof g.find((function(t){return t.name===n}))){var r=new FileReader;r.onload=function(){var t=Object(o.a)(i.a.mark((function t(e){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=f.a.parse(e.target.result),j(n),c(r),(a=g.slice()).push({name:n,font:r}),y(a),M(null);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.readAsArrayBuffer(e[0])}}},children:[Object(b.jsxs)("div",{id:d.a["Main-Section"],children:[Object(b.jsx)("h1",{style:{fontSize:"2.5em"},children:" Lab07 - \u5b57\u578b\u52d5\u756b "}),Object(b.jsx)("h2",{children:" \u8acb\u8f38\u5165\u4f60\u7684\u59d3\u540d "}),Object(b.jsxs)("div",{children:[" \u76ee\u524d\u5b57\u578b: ",h," "]}),Object(b.jsxs)("div",{children:["\u9078\u64c7\u5b57\u578b:",Object(b.jsx)("select",{onChange:function(t){var e=g.slice().find((function(e){return e.name===t.target.value})),n=e.font,r=e.name;c(n),j(r),M(null)},value:h,children:g.map((function(t){return Object(b.jsxs)("option",{value:t.name,children:[" ",t.name," "]},t.name)}))})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"text",ref:D}),Object(b.jsxs)("div",{id:d.a["button-group"],children:[Object(b.jsx)(x,{color:"blue",handler:function(){L(a)},children:" \u8a08\u7b97 "}),Object(b.jsx)(x,{color:"red",handler:function(){M(null),D.current.value=""},children:" \u6e05\u9664\u6587\u5b57 "})]})]})]}),Object(b.jsx)("div",{id:d.a["node-container"],ref:B,children:null!==_?Object(b.jsx)(b.Fragment,{children:_}):Object(b.jsx)(b.Fragment,{})})]})},y=function(){return Object(b.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(b.jsx)(g,{})})};c.a.render(Object(b.jsx)(y,{}),document.getElementById("root"))},5:function(t,e,n){t.exports={Layout:"Layout_Layout__1MjYR","Main-Section":"Layout_Main-Section__9h6yh","button-group":"Layout_button-group__8M0fD","node-container":"Layout_node-container__qOj-C"}},7:function(t,e){}},[[25,1,2]]]);